angular.module("ng-leaflet",[]),function(){"use strict";function e(e,n,t){return{restrict:"E",replace:!0,transclude:!0,scope:{ngConfig:"="},controller:["$attrs","$element","$scope",function(e,n,r){var a=this;a.options=t.setDefaults(r.ngConfig.options),a.map=L.map(n[0],a.options);var i=L.layerGroup().addTo(a.map),o=L.layerGroup().addTo(a.map);a.addMarker=function(e){i.addLayer(e)},a.addPolyline=function(e){var n=L.Polyline.fromEncoded(e);o.addLayer(n)},a.removeMarker=function(e){i.removeLayer(e)},a.clearMarkers=function(){i.clearLayers()},a.removePolyline=function(){o.clearLayers()}}],link:function(n,t,r,a){e.setConfigurations(r,n.ngConfig,t,a.map);var i=L.tileLayer(a.options.tileLayer,a.options.tileLayerOptions);a.map.addLayer(i)},template:"<div><ng-transclude></ng-transclude></div>"}}angular.module("ng-leaflet").directive("ngLeafletMap",e),e.$inject=["$leafletConfig","$leafletHelper","$leafletOptionsDefault"]}(),function(){"use strict";function e(e,n,t){return{require:"^^ngLeafletMap",restrict:"E",scope:{ngConfigMarker:"=",ngMarkers:"="},link:function(r,a,i,o){function l(e){r.ngMarkers.push(e),t.registerMarker(e),e.on("contextmenu",function(n){o.removeMarker(e)}),e.on("remove",function(n){t.removeMarker(e)})}e.isDefined(r.ngConfigMarker)&&(r.ngConfigMarker.readOnly=!!e.isDefined(r.ngConfigMarker.readOnly)&&r.ngConfigMarker.readOnly,r.ngConfigMarker.limit=e.isDefined(r.ngConfigMarker.limit)?r.ngConfigMarker.limit:23),r.ngMarkers=e.isDefined(r.ngMarkers)?r.ngMarkers:[];var f=o.map;r.$watch("ngMarkers",function(e,n){n!=e&&(o.clearMarkers(),e.forEach(function(e){o.addMarker(e),r.ngConfigMarker.readOnly||l(e)}))}),r.ngConfigMarker.readOnly||f.on("click",function(e){if(r.ngMarkers.length>=r.ngConfigMarker.limit)alert("Limite de marcadores atingidos");else{var t=n.createMarker(e.latlng.lat,e.latlng.lng,!0);o.addMarker(t),l(t)}})}}}angular.module("ng-leaflet").directive("ngLeafletMarker",e),e.$inject=["$leafletHelper","$leafletMarkerConvert","$leafletMarkerData"]}(),function(){"use strict";function e(e){return{require:"^^ngLeafletMap",restrict:"E",scope:{ngPath:"="},link:function(n,t,r,a){e.isDefined(n.ngPath)&&a.addPolyline(n.ngPath),n.$watch("ngPath",function(e,n){e!=n&&(a.removePolyline(),a.addPolyline(e))})}}}angular.module("ng-leaflet").directive("ngLeafletPolyline",e),e.$inject=["$leafletHelper"]}(),function(){"use strict";angular.module("ng-leaflet").factory("$leafletMarker",function(){return{createMarker:function(e,n,t){return L.marker([e,n],{draggable:t})}}})}(),function(){"use strict";function e(e){return{getOptionsDefault:function(){return{keyboard:!0,dragging:!0,zoomControl:!0,tileLayer:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{attribution:'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}}},setDefaults:function(n){var t={keyboard:!0,dragging:!0,zoomControl:!0,tileLayer:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{attribution:'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}};return e.isDefined(n)&&(t.keyboard=e.isDefined(n.keyboard)?n.keyboard:t.keyboard,t.dragging=e.isDefined(n.dragging)?n.dragging:t.dragging,t.zoomControl=e.isDefined(n.zoomControl)?n.zoomControl:t.zoomControl,t.tileLayer=e.isDefined(n.tileLayer)?n.tileLayer:t.tileLayer),t}}}angular.module("ng-leaflet").factory("$leafletOptionsDefault",e),e.$inject=["$leafletHelper"]}(),function(){"use strict";function e(e){function n(n,t){if(e.isDefined(n.center)){var a=e.isDefined(n.center.lat)?n.center.lat:-3.71839,i=e.isDefined(n.center.lgt)?n.center.lgt:-38.5434,o=e.isDefined(n.center.zoom)?n.center.zoom:9;t.setView([a,i],o)}r(n,t)}function t(n,t){e.isDefined(n.zoomControlPosition)&&t.zoomControl.setPosition(n.zoomControlPosition)}function r(e,n){e.geoLocate&&n.locate({setView:!0})}function a(n,t){if(e.isDefined(n.width)){var r=isNaN(n.width)?n.width:n.width+"px";t.css("width",r)}if(e.isDefined(n.height)){var a=isNaN(n.height)?n.height:n.height+"px";t.css("height",a)}}this.setConfigurations=function(e,r,i,o){a(e,i),n(r,o),t(r,o)}}angular.module("ng-leaflet").service("$leafletConfig",e),e.$inject=["$leafletHelper"]}(),function(){"use strict";angular.module("ng-leaflet").service("$leafletHelper",function(){this.isDefined=function(e){return angular.isDefined(e)&&null!==e}})}(),function(){"use strict";function e(e){var n=this;n.createMarker=function(n,t,r){return e.createMarker(n,t,r)},n.objectFromMarker=function(e){return{latitude:e._latlng.lat,longitude:e._latlng.lng}}}angular.module("ng-leaflet").service("$leafletMarkerConvert",e),e.$inject=["$leafletMarker"]}(),function(){"use strict";function e(){var e=this,n=[];e.getMarkers=function(){return n},e.clearMarkers=function(){n=[]},e.registerMarker=function(e){n.push(e)},e.removeMarker=function(e){}}angular.module("ng-leaflet").service("$leafletMarkerData",e),e.$inject=[]}();